---
import Download from "../../icons/Download.astro";
import Sun from "../../icons/Sun.astro";
import Moon from "../../icons/Moon.astro";
import LanguagePicker from "../LanguagePicker.astro"

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
import { languages } from '../../i18n/ui';
import { useTranslatedPath, useTranslations, getLangFromUrl } from "../../i18n/utils"
const translatePath = useTranslatedPath(lang)
---


<div id="optContainer">
  <a href="./" id="hidde" title="Descarga el CV completo" id="download"><Download /> Descarga</a>

  <div id="switches">
    <a href="./" id="hidden" title="Modo Oscuro">
      <Sun />
      Dark Mode
      <Moon />
    </a>
    <!-- <LanguagePicker /> -->
{
  Object.entries(languages).map(([langPrexif, label]) => {
    if(langPrexif == lang)  return <></>
    return (<a href={translatePath('/', langPrexif)}>{label}</a>)
  })
}
  </div>
</div>



<style>
  @import url("../../variables.css");

  * {
    /* border: 1px solid black; */
  }

  #hidden {
    display: none;
  }
  #optContainer {
    display: flex;
    flex-direction: row;
    justify-content: space-between;

    width: 700px;
    margin-top: 5px;
    margin-inline: auto;
    /* padding-block: 0.5rem; */
    padding: 1rem 0 0;
    transition: all 0.3s ease;
  }

  #switches {
    display: flex;
    gap: 2rem;
  }

  a {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    border: 1px solid var(--softGrey);
    padding: 0 10px;
    height: 35px;
    border-radius: 6px;
    transition: all 0.3s ease;
    width: 120px;
    font-size: 0.8rem;
  }

  a:hover {
    background: var(--light);
    border: 2px solid var(--softWhite);
  }

  @media print {
    #optContainer {
      display: none;
    }
  }
</style>
